#
# TMUX Config file
# github.com/manuraj17
#
# The configurations in this file a mix of self, borrowed and inspired ideas.
# Credits to the owners of the ideas I borrowed and was inspired of.
#

# Use zsh
set-option -g default-shell /usr/local/bin/zsh

# Increase scrollback lines
set -g history-limit 30000

# Renumber windows automatically after removing a window
# Prevents my OCD and means I don't have to manually run {move|swap}-window
set-option -g renumber-windows on

# easy reloading of config
bind-key R source-file ~/.tmux.conf \; display "Configuration of tmux is reloaded!"

# Ensure terminal starts with its own colour scheme
# (helps Vim/Neovim themes to not break)
set -g default-terminal "screen-256color"
set -ga terminal-overrides ",xterm-256color:Tc"

# terminal title
set-option -g set-titles on

# Make sure messages (using display-message) are displayed for long enough to read
set-option -g display-time 2000

# Remove the delay while pressing esacpe in vim
set -sg escape-time 0

# Set mouse scroll mode
setw -g mouse on

# messaging
# set -g message-fg black
# set -g message-bg yellow
# set -g message-command-fg blue
# set -g message-command-bg black
# setw -g window-status-attr reverse

# Activity
set-option -g status-position bottom
# set-option -gw window-status-activity-style fg=white,bg=black,bold
# set-option -gw window-status-current-style fg=white,bg=brightgreen,bold
# set-window-option -g window-status-activity-attr bold

# enter copy mode and start search in one step; required for alacritty key
# binding to work
bind-key / copy-mode \; send-key ?

# Create new window from current directory
bind '"'  split-window  -c    "#{pane_current_path}"
bind %    split-window  -h -c "#{pane_current_path}"
bind c    new-window    -c    "#{pane_current_path}"

# No patched font for plugin
# set -g @snow_tmux_no_patched_font '1'

# set-option -g status-attr "none"
# set-option -g status-justify "left"
# set-option -g status-left "#S "
# set-option -g status-left-attr "none"
# set-option -g status-left-length "80"
# set-option -g status-right-attr "none"
# set-option -g status-right-length "80"
# set-option -g status-right "#{cpu_percentage} #{online_status} #{battery_percentage}  %Y-%m-%d %H:%M #h "
# set-window-option -g window-status-activity-attr "none"
# set-window-option -g window-status-attr "none"
# set-window-option -g window-status-separator ""
# set-window-option -g window-status-current-format " #I #W "
# set-window-option -g window-status-format " #I #W "

# Plugin manager
# List of plugins
set -g @plugin 'tmux-plugins/tpm'
set -g @plugin 'tmux-plugins/tmux-sensible'
set -g @plugin 'tmux-plugins/tmux-battery-osx'
set -g @plugin 'tmux-plugins/tmux-cpu'
set -g @plugin 'tmux-plugins/tmux-online-status'
# set -g @plugin 'robhurring/tmux-spotify'
set -g @plugin 'tmux-plugins/tmux-resurrect'
set -g @plugin 'tmux-plugins/tmux-open'

# Colorscheme
set -g @plugin 'mcchrish/snow-tmux'

# Plugin custom configs
set -g @online_icon Y
set -g @offline_icon N
set-option -g @online_icon "● online"
set-option -g @offline_icon "● offline"

# Sourcing colorscheme:falcon
# source-file ~/manu/code/github/neodark.vim/tmuxcolors.conf
# Copy pasta
# set-option -g @online_icon "#[fg=#86dc2f]● online#[fg=default]"
# set-option -g @offline_icon "#[fg=#e0211d]●	offline#[fg=default]"
# set-option -g clock-mode-colour '#57557f'
# set-option -g message-command-style 'bg=#262626,fg=#b2b2b2'
# set-option -g message-style 'bg=#262626,fg=#b2b2b2'
# set-option -g mode-style 'bg=#444444,fg=#b2b2b2'
# set-option -g pane-border-style 'fg=#111111'
# set-option -g pane-active-border-style 'fg=#111111'
# set-option -g status-left ' #S '
# set-option -g status-left-style 'bg=#fdab08,fg=#121212'
# set-option -g status-right ' #{online_status} #[bg=#57557f] %Y/%m/%d %a %H:%m '
# set-option -g status-right-style 'bg=#121212,fg=#b2b2b2'
# set-option -g status-style 'bg=#121212,fg=#b2b2b2'
# set-option -g window-status-activity-style 'bg=#121212,fg=#d75fd7'
# set-option -g window-status-current-format ' #I#F| #W '
# set-option -g window-status-current-style 'bg=#57557f,fg=#b2b2b2'
# set-option -g window-status-format '#[fg=#585858] #I |#[fg=default] #W '
# set-option -g window-status-separator ''
# set-option -g window-status-style 'bg=#121212,fg=#b2b2b2'

# Initialize TMUX plugin manager (keep this line at the very bottom of tmux.conf)
run '~/.tmux/plugins/tpm/tpm'
